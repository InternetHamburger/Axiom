using System;
using System.Collections.Generic;
using System.Linq;
using System.Runtime.InteropServices;
using System.Text;
using System.Threading.Tasks;

namespace Axiom.src.core.Move_Generation
{
    public static class MoveGenConstants
    {
        public const ulong AFileMask = 0x0101010101010101;
        public const ulong FirstRankMask = 0xFF00000000000000;

        public const ulong WhiteMoveMask = ~BlackStartRank;
        public const ulong BlackMoveMask = ~WhiteStartRank;

        public const ulong WhitePawnCaptureRightMask = ~(AFileMask << 7);
        public const ulong WhitePawnCaptureLeftMask = ~AFileMask;

        public const ulong BlackPawnCaptureRightMask = WhitePawnCaptureLeftMask;
        public const ulong BlackPawnCaptureLeftMask = WhitePawnCaptureRightMask;

        public const ulong WhiteStartRank = FirstRankMask >> 8;
        public const ulong BlackStartRank = FirstRankMask >> 48;

        public const ulong WhitePromotionMask = BlackStartRank;
        public const ulong BlackPromotionMask = WhiteStartRank;

        public const ulong WhiteCastleKingSide = (1UL << 62) | (1UL << 61);
        public const ulong WhiteCastleQueenSide = (1UL << 59) | (1UL << 58) | (1UL << 57);

        public const ulong BlackCastleKingSide = (1UL << 5) | (1UL << 6);
        public const ulong BlackCastleQueenSide = (1UL << 1) | (1UL << 2) | (1UL << 3);

        public static readonly int[] DirectionOffSets = [-8, 8, -1, 1, -9, 9, -7, 7];

        public static readonly int[,] numSquaresToEdge =
        {
            { 0, 7, 0, 7, 0, 7, 0, 0, },
            { 0, 7, 1, 6, 0, 6, 0, 1, },
            { 0, 7, 2, 5, 0, 5, 0, 2, },
            { 0, 7, 3, 4, 0, 4, 0, 3, },
            { 0, 7, 4, 3, 0, 3, 0, 4, },
            { 0, 7, 5, 2, 0, 2, 0, 5, },
            { 0, 7, 6, 1, 0, 1, 0, 6, },
            { 0, 7, 7, 0, 0, 0, 0, 7, },
            { 1, 6, 0, 7, 0, 6, 1, 0, },
            { 1, 6, 1, 6, 1, 6, 1, 1, },
            { 1, 6, 2, 5, 1, 5, 1, 2, },
            { 1, 6, 3, 4, 1, 4, 1, 3, },
            { 1, 6, 4, 3, 1, 3, 1, 4, },
            { 1, 6, 5, 2, 1, 2, 1, 5, },
            { 1, 6, 6, 1, 1, 1, 1, 6, },
            { 1, 6, 7, 0, 1, 0, 0, 6, },
            { 2, 5, 0, 7, 0, 5, 2, 0, },
            { 2, 5, 1, 6, 1, 5, 2, 1, },
            { 2, 5, 2, 5, 2, 5, 2, 2, },
            { 2, 5, 3, 4, 2, 4, 2, 3, },
            { 2, 5, 4, 3, 2, 3, 2, 4, },
            { 2, 5, 5, 2, 2, 2, 2, 5, },
            { 2, 5, 6, 1, 2, 1, 1, 5, },
            { 2, 5, 7, 0, 2, 0, 0, 5, },
            { 3, 4, 0, 7, 0, 4, 3, 0, },
            { 3, 4, 1, 6, 1, 4, 3, 1, },
            { 3, 4, 2, 5, 2, 4, 3, 2, },
            { 3, 4, 3, 4, 3, 4, 3, 3, },
            { 3, 4, 4, 3, 3, 3, 3, 4, },
            { 3, 4, 5, 2, 3, 2, 2, 4, },
            { 3, 4, 6, 1, 3, 1, 1, 4, },
            { 3, 4, 7, 0, 3, 0, 0, 4, },
            { 4, 3, 0, 7, 0, 3, 4, 0, },
            { 4, 3, 1, 6, 1, 3, 4, 1, },
            { 4, 3, 2, 5, 2, 3, 4, 2, },
            { 4, 3, 3, 4, 3, 3, 4, 3, },
            { 4, 3, 4, 3, 4, 3, 3, 3, },
            { 4, 3, 5, 2, 4, 2, 2, 3, },
            { 4, 3, 6, 1, 4, 1, 1, 3, },
            { 4, 3, 7, 0, 4, 0, 0, 3, },
            { 5, 2, 0, 7, 0, 2, 5, 0, },
            { 5, 2, 1, 6, 1, 2, 5, 1, },
            { 5, 2, 2, 5, 2, 2, 5, 2, },
            { 5, 2, 3, 4, 3, 2, 4, 2, },
            { 5, 2, 4, 3, 4, 2, 3, 2, },
            { 5, 2, 5, 2, 5, 2, 2, 2, },
            { 5, 2, 6, 1, 5, 1, 1, 2, },
            { 5, 2, 7, 0, 5, 0, 0, 2, },
            { 6, 1, 0, 7, 0, 1, 6, 0, },
            { 6, 1, 1, 6, 1, 1, 6, 1, },
            { 6, 1, 2, 5, 2, 1, 5, 1, },
            { 6, 1, 3, 4, 3, 1, 4, 1, },
            { 6, 1, 4, 3, 4, 1, 3, 1, },
            { 6, 1, 5, 2, 5, 1, 2, 1, },
            { 6, 1, 6, 1, 6, 1, 1, 1, },
            { 6, 1, 7, 0, 6, 0, 0, 1, },
            { 7, 0, 0, 7, 0, 0, 7, 0, },
            { 7, 0, 1, 6, 1, 0, 6, 0, },
            { 7, 0, 2, 5, 2, 0, 5, 0, },
            { 7, 0, 3, 4, 3, 0, 4, 0, },
            { 7, 0, 4, 3, 4, 0, 3, 0, },
            { 7, 0, 5, 2, 5, 0, 2, 0, },
            { 7, 0, 6, 1, 6, 0, 1, 0, },
            { 7, 0, 7, 0, 7, 0, 0, 0, },
        };

        public static ulong[,] RayMasks = {
            {0, 72340172838076672, 0, 254, 0, 9241421688590303744, 0, 0},
            {0, 144680345676153344, 1, 252, 0, 36099303471055872, 0, 256},
            {0, 289360691352306688, 3, 248, 0, 141012904183808, 0, 66048},
            {0, 578721382704613376, 7, 240, 0, 550831656960, 0, 16909312},
            {0, 1157442765409226752, 15, 224, 0, 2151686144, 0, 4328785920},
            {0, 2314885530818453504, 31, 192, 0, 8404992, 0, 1108169199616},
            {0, 4629771061636907008, 63, 128, 0, 32768, 0, 283691315109888},
            {0, 9259542123273814016, 127, 0, 0, 0, 0, 72624976668147712},
            {1, 72340172838076416, 0, 65024, 0, 4620710844295151616, 2, 0},
            {2, 144680345676152832, 256, 64512, 1, 9241421688590303232, 4, 65536},
            {4, 289360691352305664, 768, 63488, 2, 36099303471054848, 8, 16908288},
            {8, 578721382704611328, 1792, 61440, 4, 141012904181760, 16, 4328783872},
            {16, 1157442765409222656, 3840, 57344, 8, 550831652864, 32, 1108169195520},
            {32, 2314885530818445312, 7936, 49152, 16, 2151677952, 64, 283691315101696},
            {64, 4629771061636890624, 16128, 32768, 32, 8388608, 128, 72624976668131328},
            {128, 9259542123273781248, 32512, 0, 64, 0, 0, 145249953336262656},
            {257, 72340172838010880, 0, 16646144, 0, 2310355422147510272, 516, 0},
            {514, 144680345676021760, 65536, 16515072, 256, 4620710844295020544, 1032, 16777216},
            {1028, 289360691352043520, 196608, 16252928, 513, 9241421688590041088, 2064, 4328521728},
            {2056, 578721382704087040, 458752, 15728640, 1026, 36099303470530560, 4128, 1108168671232},
            {4112, 1157442765408174080, 983040, 14680064, 2052, 141012903133184, 8256, 283691314053120},
            {8224, 2314885530816348160, 2031616, 12582912, 4104, 550829555712, 16512, 72624976666034176},
            {16448, 4629771061632696320, 4128768, 8388608, 8208, 2147483648, 32768, 145249953332068352},
            {32896, 9259542123265392640, 8323072, 0, 16416, 0, 0, 290499906664136704},
            {65793, 72340172821233664, 0, 4261412864, 0, 1155177711056977920, 132104, 0},
            {131586, 144680345642467328, 16777216, 4227858432, 65536, 2310355422113955840, 264208, 4294967296},
            {263172, 289360691284934656, 50331648, 4160749568, 131328, 4620710844227911680, 528416, 1108101562368},
            {526344, 578721382569869312, 117440512, 4026531840, 262657, 9241421688455823360, 1056832, 283691179835392},
            {1052688, 1157442765139738624, 251658240, 3758096384, 525314, 36099303202095104, 2113664, 72624976397598720},
            {2105376, 2314885530279477248, 520093696, 3221225472, 1050628, 141012366262272, 4227072, 145249952795197440},
            {4210752, 4629771060558954496, 1056964608, 2147483648, 2101256, 549755813888, 8388608, 290499905590394880},
            {8421504, 9259542121117908992, 2130706432, 0, 4202512, 0, 0, 580999811180789760},
            {16843009, 72340168526266368, 0, 1090921693184, 0, 577588851233521664, 33818640, 0},
            {33686018, 144680337052532736, 4294967296, 1082331758592, 16777216, 1155177702467043328, 67637280, 1099511627776},
            {67372036, 289360674105065472, 12884901888, 1065151889408, 33619968, 2310355404934086656, 135274560, 283673999966208},
            {134744072, 578721348210130944, 30064771072, 1030792151040, 67240192, 4620710809868173312, 270549120, 72624942037860352},
            {269488144, 1157442696420261888, 64424509440, 962072674304, 134480385, 9241421619736346624, 541097984, 145249884075720704},
            {538976288, 2314885392840523776, 133143986176, 824633720832, 268960770, 36099165763141632, 1082130432, 290499768151441408},
            {1077952576, 4629770785681047552, 270582939648, 549755813888, 537921540, 140737488355328, 2147483648, 580999536302882816},
            {2155905152, 9259541571362095104, 545460846592, 0, 1075843080, 0, 0, 1161999072605765632},
            {4311810305, 72339069014638592, 0, 279275953455104, 0, 288793326105133056, 8657571872, 0},
            {8623620610, 144678138029277184, 1099511627776, 277076930199552, 4294967296, 577586652210266112, 17315143744, 281474976710656},
            {17247241220, 289356276058554368, 3298534883328, 272678883688448, 8606711808, 1155173304420532224, 34630287488, 72620543991349248},
            {34494482440, 578712552117108736, 7696581394432, 263882790666240, 17213489152, 2310346608841064448, 69260574720, 145241087982698496},
            {68988964880, 1157425104234217472, 16492674416640, 246290604621824, 34426978560, 4620693217682128896, 138521083904, 290482175965396992},
            {137977929760, 2314850208468434944, 34084860461056, 211106232532992, 68853957121, 9241386435364257792, 277025390592, 580964351930793984},
            {275955859520, 4629700416936869888, 69269232549888, 140737488355328, 137707914242, 36028797018963968, 549755813888, 1161928703861587968},
            {551911719040, 9259400833873739776, 139637976727552, 0, 275415828484, 0, 0, 2323857407723175936},
            {1103823438081, 72057594037927936, 0, 71494644084506624, 0, 144115188075855872, 2216338399296, 0},
            {2207646876162, 144115188075855872, 281474976710656, 70931694131085312, 1099511627776, 288230376151711744, 4432676798592, 72057594037927936},
            {4415293752324, 288230376151711744, 844424930131968, 69805794224242688, 2203318222848, 576460752303423488, 8865353596928, 144115188075855872},
            {8830587504648, 576460752303423488, 1970324836974592, 67553994410557440, 4406653222912, 1152921504606846976, 17730707128320, 288230376151711744},
            {17661175009296, 1152921504606846976, 4222124650659840, 63050394783186944, 8813306511360, 2305843009213693952, 35461397479424, 576460752303423488},
            {35322350018592, 2305843009213693952, 8725724278030336, 54043195528445952, 17626613022976, 4611686018427387904, 70918499991552, 1152921504606846976},
            {70644700037184, 4611686018427387904, 17732923532771328, 36028797018963968, 35253226045953, 9223372036854775808, 140737488355328, 2305843009213693952},
            {141289400074368, 9223372036854775808, 35747322042253312, 0, 70506452091906, 0, 0, 4611686018427387904},
            {282578800148737, 0, 0, 18302628885633695744, 0, 0, 567382630219904, 0},
            {565157600297474, 0, 72057594037927936, 18158513697557839872, 281474976710656, 0, 1134765260439552, 0},
            {1130315200594948, 0, 216172782113783808, 17870283321406128128, 564049465049088, 0, 2269530520813568, 0},
            {2260630401189896, 0, 504403158265495552, 17293822569102704640, 1128103225065472, 0, 4539061024849920, 0},
            {4521260802379792, 0, 1080863910568919040, 16140901064495857664, 2256206466908160, 0, 9078117754732544, 0},
            {9042521604759584, 0, 2233785415175766016, 13835058055282163712, 4512412933881856, 0, 18155135997837312, 0},
            {18085043209519168, 0, 4539628424389459968, 9223372036854775808, 9024825867763968, 0, 36028797018963968, 0},
            {36170086419038336, 0, 9151314442816847872, 0, 18049651735527937, 0, 0, 0}
            };

    }
}
